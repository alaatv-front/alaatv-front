@import 'src/css/Theme/colors.scss';
@import 'src/css/Theme/radius.scss';
@import 'src/css/Theme/shadow.scss';
@import 'src/css/Theme/spacing.scss';
@import 'src/css/Theme/Typography/typography.scss';

@mixin btn-content-typo ($size) {
  @if index(('xs', 'sm', 'md'), $size) {
    @include subtitle2;
  } @else if index(('lg', 'xl'), $size) {
    @include subtitle1;
  }
}

@mixin btn-icon-typo ($size) {
  @if index(('xs', 'sm', 'md'), $size) {
    font-size: 16px;
  } @else if index(('lg', 'xl'), $size) {
    font-size: 20px;
  }
}

@mixin btn-handle-radius ($size) {
  $target-radius : $radius-1;
  @if $size == 'xs' {
    $target-radius : $radius-2;
  } @else if index(('sm', 'md', 'lg', 'xl'), $size) {
    $target-radius : $radius-3;
  }
  border-radius : $target-radius;
}

@mixin btn-handle-round-padding($size){
  $round-padding : $space-1;
  @if $size == 'xs' {
    $round-padding : $space-1;
  } @else if $size == 'sm' {
    $round-padding : $space-2;
  } @else if $size == 'md' {
    $round-padding : $space-3;
  } @else if $size == 'lg' {
    $round-padding : $space-4;
  } @else if $size == 'xl' {
    $round-padding : $space-5;
  }
  padding: $round-padding !important;
}

@mixin btn-handle-square-padding ($size) {
  $square-padding : $space-1;
  @if $size == 'xs' {
    $square-padding : $space-1;
  } @else if $size == 'sm' {
    $square-padding : $space-2;
  } @else if $size == 'md' {
    $square-padding : $space-3;
  } @else if $size == 'lg' {
    $square-padding : $space-4;
  } @else if $size == 'xl' {
    $square-padding : $space-5;
  }
  padding: $square-padding !important;
}

@mixin btn_handle_padding ($size){
  $target-padding-x : $space-1;
  $target-padding-y : $space-2;
  @if $size == 'xs' {
    $target-padding-x : $space-1;
    $target-padding-y : $space-2;
  } @else if $size == 'sm' {
    $target-padding-x : $space-1;
    $target-padding-y : $space-3;
  } @else if $size == 'md' {
    $target-padding-x : $space-2;
    $target-padding-y : $space-4;
  } @else if $size == 'lg' {
    $target-padding-x : $space-3;
    $target-padding-y : $space-4;
  } @else if $size == 'xl' {
    $target-padding-x : $space-4;
    $target-padding-y : $space-4;
  }

  padding: $target-padding-x $target-padding-y;
}

@mixin btn-handle-sizes ($size) {
  @include btn-handle-radius($size);
  @include btn_handle_padding($size);
  &.q-btn--square {
    @include btn-handle-square-padding($size);
  }
  &.q-btn--round{
    @include btn-handle-round-padding($size);
    border-radius: $radius-round !important;
  }
  .q-btn__content {
    @include btn-content-typo($size);
    .q-icon {
      @include btn-icon-typo($size);
    }
  }
}

@mixin btn-handle-box-shadows($type){
  $target-box-shadow : $shadow-1;
  @if ($type == 'primary'){
    $target-box-shadow:$shadow-primary;
  }@else if($type == 'secondary'){
    $target-box-shadow : $shadow-secondary;
  }@else if($type == 'accent'){
    $target-box-shadow : $shadow-accent;
  }@else if(index(('grey', 'flat', 'outline'), $type)){
    $target-box-shadow : $shadow-grey;
  }
  box-shadow: $target-box-shadow;
}

body {
  .q-btn {
    font-size: 1em !important;
    min-height: auto;
    min-width: auto;

    // xs
    &.size-xs {
      @include btn-handle-sizes('xs')
    }

    // sm
    &.size-sm {
      @include btn-handle-sizes('sm')
    }

    // md
    &.size-md {
      @include btn-handle-sizes('md');
    }
    @include btn-handle-sizes('md');

    // lg
    &.size-lg {
      @include btn-handle-sizes('lg')
    }

    // xl
    &.size-xl {
      @include btn-handle-sizes('xl')
    }

    &:before {
      box-shadow: none;
    }

    &.disabled,
    &[disabled] {
      opacity: 0.24 !important;
    }

    &.q-hoverable:hover {
      & > .q-focus-helper {
        opacity: 1;
        background: $lighten-5;
        &:before{
          display:none;
        }
      }
    }

    &.q-btn--active.q-btn--actionable {
      &:before {
        box-shadow: unset;
        color: unset;
        background: inherit;
        opacity: 0.2;
        position: absolute;
        top: -$space-1;
        left: -$space-1;
        right: -$space-1;
        bottom: -$space-1;
        width: calc( 100% + 8px );
        height: calc( 100% + 8px );
      }
    }

    .q-btn__content {
      .q-icon {
        &.on-left {
          margin-right: $space-1;
        }

        &.on-right {
          margin-left: $space-1;
        }
      }
    }

    &.bg-primary {
      color: $grey-9 !important;
      //&.q-hoverable:hover {
      //  opacity: 1;
      //  & > .q-focus-helper {
      //    background: $lighten-5;
      //  }
      //}
      &.q-btn--active.q-btn--actionable:focus{
        @include btn-handle-box-shadows('primary')
      }
    }

    &.bg-secondary {
      color: $grey-1 !important;
      &.q-hoverable:hover {
        & > .q-focus-helper {
          background: $lighten-5;
        }
      }
      &.q-btn--active.q-btn--actionable:focus{
        @include btn-handle-box-shadows('secondary')
      }
    }

    &.bg-accent {
      background: $accent !important;
      &.q-btn--active.q-btn--actionable:focus{
        @include btn-handle-box-shadows('accent')
      }
    }

    &.bg-grey {
      color: $grey-9 !important;
      background: $grey-2 !important;
      &.q-btn--active.q-btn--actionable:focus{
        @include btn-handle-box-shadows('grey')
      }
    }

    @mixin outline-btn(){
      color: $grey-9 !important;

      &:before {
        border: solid 1.5px $grey-4;
      }

      &.q-btn--active.q-btn--actionable:focus{
        @include btn-handle-box-shadows('grey')
      }

      &.q-hoverable:hover:not(.disabled) {
        & > .q-focus-helper {
          background: $darken-1;
        }
      }

      .q-btn__content {
        color: $grey-9 !important;
      }

    }

    &.q-btn--outline {
      @include outline-btn();
      &.q-btn--round{
        @include outline-btn();
      }
      &.text-grey {
        @include outline-btn();
      }
    }

    @mixin flat-btn () {
      color: $grey-9 ;
      background: transparent ;

      &:before {
        border: none;
      }

      &.q-hoverable:hover {
        & > .q-focus-helper {
          background: $darken-1;
        }
      }

      &.q-btn--active.q-btn--actionable:focus{
        @include btn-handle-box-shadows('grey');
      }

      .q-btn__content {
        color: $grey-9 ;
      }
    }

    &.q-btn--flat {
      @include flat-btn();
      &.text-grey {
        @include flat-btn();
      }
    }

  }
}
